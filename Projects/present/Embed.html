    <!DOCTYPE html>

    <html>
    <head>

      <script src=
      "https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js">
    </script>



    <style type="text/css">
    textarea::-webkit-scrollbar {display: none;}
    div::-webkit-scrollbar {display: none;}
  </style>



  <style>
  body{
    display: flex;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    background-image:url("https://halonex.github.io/");
  }

  #mydiv {
    position: absolute;
    text-align: center;
    background :black;
    border-radius: 8px;
    top: 50px;
    left: 25px;
  }

  #mydivheader {
    overflow:overflow;
    cursor:context-menu;
    color: #fff;
  }

  #mydiv1 {
    position: absolute;
    text-align: center;
    background :lightgrey;
    border-radius: 8px;
    width: 200px;
    top: 200px;
    left: 940px;
  }

  #mydiv1header {
    overflow:overflow;
    cursor:context-menu;
    color: #fff;

  }

  #mydiv2 {
    position: absolute;
    text-align: center;
    background :lightgrey;
    border-radius: 8px;
    width: 500px;
    top: 50px;
    left: 940px;

  }

  #mydiv1header {
    overflow:overflow;
    cursor:context-menu;
    color: #fff;

  }
</style>

<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="https://halonex.github.io/Projects/assessment/resizable-style.css">
<title>Code Editor</title>

<script src="https://halonex.github.io/Projects/assessment/resizable.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://halonex.github.io/Projects/assessment/style.css">

<link rel="stylesheet" href="https://halonex.github.io/Projects/present/lang/hl.css">
<link rel="stylesheet" href="https://halonex.github.io/Projects/present/lang/style1.css">
</head>

<body id = "b1">

  <div class = "newdiv" >

    <div id="mydiv2" style = "padding : 0px; background : none;">
      <div id="mydiv2header" >


        <div class="titlebar" style="position: sticky;top: 0px;left: 0px;" onmousedown ="document.getElementById('mydiv').style.zIndex = '0';document.getElementById('mydiv1').style.zIndex = '0';document.getElementById('mydiv2').style.zIndex = '1';">
          <div class="buttons">
            <div class="close">
              <a class="closebutton" href="#"><span><strong>x</strong></span></a>

            </div>
            <div class="minimize">
              <a class="minimizebutton" onclick="document.getElementById('win22').style.display = 'none';" href="#"><span><strong>&ndash;</strong></span></a>

            </div>
            <div class="zoom">
              <a class="zoombutton" onclick = "document.getElementById('win22').style.display = 'block';" href="#"><span><strong>+</strong></span></a>
            </div>
          </div>
          Edit
        </div>


      </div>
      <div class="window" style="overflow-y: scroll; background-color:white;
      margin-top: 0px; translate-y = 10px; border-top-left-radius: 0px;border-top-right-radius: 0px; height : 600px; width : 500px; " id = "win22" >

      <div class="content" style = "padding:0px" onmousedown ="document.getElementById('mydiv').style.zIndex = '0';document.getElementById('mydiv1').style.zIndex = '0';document.getElementById('mydiv2').style.zIndex = '1';">
        <textarea id="t" style="background-color: #1F1B24; color : white; padding: 10px; height: 560px; width: 100%; font-family: 'Ubuntu Mono', monospace;  ">

          <style>
          :root {
            --stripe-size: 100px;
            --color1: #24bdf0;
            --color2: #313131;
            --duration: 2s;
          }

          body {
            display: flex;
            height: 100vh;
            overflow: hidden;
          }

          .stripe {
           
            display: flex;
            width: 100%;
            height: 100%;
          }
          .stripe_inner {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            font-size: 8rem;
            font-family: "Anton", sans-serif;
            color: rgba(255, 255, 255, 0);
            background: repeating-linear-gradient(45deg, var(--color1) 25%, var(--color1) 50%, var(--color2) 50%, var(--color2) 75%);
            background-size: var(--stripe-size) var(--stripe-size);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-animation: stripeBackgroundPosition var(--duration) linear infinite;
            animation: stripeBackgroundPosition var(--duration) linear infinite;
          }
          .stripe::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: calc(100% + var(--stripe-size));
            height: 100%;
            background: repeating-linear-gradient(45deg, var(--color2) 25%, var(--color2) 50%, var(--color1) 50%, var(--color1) 75%);
            background-size: var(--stripe-size) var(--stripe-size);
            -webkit-animation: stripeTransform var(--duration) linear infinite;
            animation: stripeTransform var(--duration) linear infinite;
          }

          @-webkit-keyframes stripeTransform {
            0% {
              transform: translateX(0);
            }
            100% {
              transform: translateX(calc(var(--stripe-size) * -1));
            }
          }

          @keyframes stripeTransform {
            0% {
              transform: translateX(0);
            }
            100% {
              transform: translateX(calc(var(--stripe-size) * -1));
            }
          }
          @-webkit-keyframes stripeBackgroundPosition {
            0% {
              background-position: 0 0;
            }
            100% {
              background-position: calc(var(--stripe-size) * -1) 0;
            }
          }
          @keyframes stripeBackgroundPosition {
            0% {
              background-position: 0 0;
            }
            100% {
              background-position: calc(var(--stripe-size) * -1) 0;
            }
          }
        </style>
        <defaultwindow>
          <hr>
          <div class="stripe_inner">
            Halonex 
            <p style = "font-size : 14px;"><br><br>Team LOF</p>
          </div>
          <hr>

          <div style = " background:#24bdf0; height : 100%; padding : 100px;">
            <br>
            <button style = "width :100px; height : 50px;font-size : 10px; float : center; background:#24bdf0; border-width: 3px; border-color: white; border-style: solid; color : white" onclick="cl();">Get Started</button></div>
          </div>
          <p style="position:sticky; bottom: 0px; color:white; font-size: 11px; float: left; padding-left: 20px;">For documentation and information abour features, visit halonex.github.io </p>
          
        </textarea>
        <div style = "position: sticky; bottom: 0; background-color: white;">

          <div class="row">
            <div class="col" style="padding-left:30px;">
              <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked>
                <label class="form-check-label" for="flexSwitchCheckChecked"><p style = "font-size: 9px; margin: 0px;">Auto Preview (disable in case of iframes)</p></label>
              </div>
            </div>
            <div class="col" >
              <button id="do" onclick="emb();" style = "border: 2px black;width: 100%;">Update</button>
            </div>
            <div class="col" style="padding-right: 30px;">
              <input type="button" id="bt" value="Export" onclick="saveFile()" style="border: none; width: 100%;" />
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>




  <div class = "newdiv" style="visibility:hidden">

    <div id="mydiv1" style = "padding : 0px; background : none;">
      <div id="mydiv1header">


        <div class="titlebar" style="position: sticky;top: 0px;left: 0px;" onmousedown ="document.getElementById('mydiv').style.zIndex = '0';document.getElementById('mydiv1').style.zIndex = '1';document.getElementById('mydiv2').style.zIndex = '0';"> 
          <div class="buttons">
            <div class="close">
              <a class="closebutton" href="#"><span><strong>x</strong></span></a>

            </div>
            <div class="minimize">
              <a class="minimizebutton" onclick="document.getElementById('win11').style.display = 'none';" href="#"><span><strong>&ndash;</strong></span></a>

            </div>
            <div class="zoom">
              <a class="zoombutton" onclick = "document.getElementById('win11').style.display = 'block';" href="#"><span><strong>+</strong></span></a>
            </div>
          </div>
          Preview
        </div>


      </div>
      <div class="window" style="overflow-y: scroll; background-color:white;
      margin-top: 0px; translate-y = 10px; border-top-left-radius: 0px;border-top-right-radius: 0px; height : 200px; width : 200px;" id = "win11">

      <div class="content" style = "padding:0px;" onmousedown ="document.getElementById('mydiv').style.zIndex = '0';document.getElementById('mydiv1').style.zIndex = '1';document.getElementById('mydiv2').style.zIndex = '0';">

        <div id = "o" style = "height : 200px; width : 200px; background-color : white; overflow:scroll;"><canvas id = "canvas11"></canvas> 
        </div>
      </div>

    </div>
  </div>
</div>
<button id="download" download="Export.jpg" href="" onclick="takeshot();" style = "background: black; color: white; border:none; width: 100%;">Download</button>


<button id="do" onclick="emb();" style = "visibility:hidden;">Update</button>

<div class = "newdiv" >

  <div id="mydiv" style = "padding : 25px; background : none; border : 3px dashed lightgrey">
    <div id="mydivheader" >


      <div class="titlebar" style="position: sticky;top: 0px;left: 0px;" onmousedown ="document.getElementById('mydiv').style.zIndex = '1';document.getElementById('mydiv1').style.zIndex = '0';document.getElementById('mydiv2').style.zIndex = '0';">
        <div class="buttons">
          <div class="close">
            <a class="closebutton" href="#"><span><strong>x</strong></span></a>

          </div>
          <div class="minimize">
            <a class="minimizebutton" onclick="document.getElementById('win00').style.display = 'none';" href="#"><span><strong>&ndash;</strong></span></a>

          </div>
          <div class="zoom">
            <a class="zoombutton" onclick = "document.getElementById('win00').style.display = 'block';" href="#"><span><strong>+</strong></span></a>
          </div>
        </div>
        Main Screen
      </div>


    </div>
    <div class="window" style="overflow-y: scroll; box-shadow: 0px 0px 0px;
    margin-top: 0px; translate-y = 10px; border-top-left-radius: 0px;border-top-right-radius: 0px;" id = "win00">

    <div class="content" id = "mc" style = "background: white; height:100%;" onmousedown ="document.getElementById('mydiv').style.zIndex = '1';document.getElementById('mydiv1').style.zIndex = '0';document.getElementById('mydiv2').style.zIndex = '0'; color: black;"></div>
  </div>
</div>







<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='script.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/utils/Draggable.min.js'></script><script type="module" src="https://halonex.github.io/Projects/assessment/script.js"></script>
<script src="./hl.js"></script>
<script>
 load1();

 function d(){
  document.getElementById("er").innerHTML = document.getElementById("t").value;
  loadl();
}

  function cl(){

    document.getElementById("mc").innerHTML = "";
    document.getElementById("t").innerHTML = "";
  }
</script>


<script>

  dragElement(document.getElementById("mydiv"));
  dragElement(document.getElementById("mydiv1"));
  dragElement(document.getElementById("mydiv2"));

  function dragElement(elmnt) {
    var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    if (document.getElementById(elmnt.id + "header")) {
      document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
    } else {
      elmnt.onmousedown = dragMouseDown;
    }

    function dragMouseDown(e) {
      e = e || window.event;
      e.preventDefault();
      pos3 = e.clientX;
      pos4 = e.clientY;
      document.onmouseup = closeDragElement;
      document.onmousemove = elementDrag;
    }

    function elementDrag(e) {
      e = e || window.event;
      e.preventDefault();
      pos1 = pos3 - e.clientX;
      pos2 = pos4 - e.clientY;
      pos3 = e.clientX;
      pos4 = e.clientY;
      elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
      elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
    }

    function closeDragElement() {
      document.onmouseup = null;
      document.onmousemove = null;
    }
  }
</script>

<script type="text/javascript">
  var canvas = document.getElementById("canvas11");
  function prep(){
    var canvas = document.getElementById("canvas11");
  }

  function takeshot() {
    let div = document.getElementById('mydiv');
    html2canvas(div).then(
      function (canvas) {
        var element = document.getElementById("canvas11");
        element.parentNode.removeChild(element);
        canvas.setAttribute("id", "canvas11");
        document.getElementById('o').innerHTML = "";
        document.getElementById('o').appendChild(canvas);
        prep();
        dd()
      })
  }
</script>


<script type="text/javascript">
  function dd(){
    var canvas1 = document.getElementById("canvas11");
    var imageData = canvas1.toDataURL("image/jpg")
    var tmpLink = document.createElement( 'a' );  
    tmpLink.download = 'image.png';
    tmpLink.href = imageData;  

    document.body.appendChild( tmpLink );  
    tmpLink.click();  
    document.body.removeChild( tmpLink );
  }
</script>

<script type="text/javascript">

  click_event = new CustomEvent('click');
  btn_element = document.querySelector('#do');
  btn_element.dispatchEvent(click_event);


  var tim = setInterval(clickButton,1000 );

  function emb(){
    document.getElementById("mc").innerHTML = document.getElementById("t").value;
  }

  function clickButton() {
    if (document.getElementById("t").value.includes("iframe")) {
      document.getElementById("flexSwitchCheckChecked").checked = false;
    }
    if (document.getElementById("flexSwitchCheckChecked").checked == '1' && !(document.getElementById("t").value.includes("<defaultwindow>"))) {
      click_event = new CustomEvent('click');
      btn_element = document.querySelector('#do');
      btn_element.dispatchEvent(click_event);
      
    }}


  </script>

  <script type="text/javascript">
    "use strict";

  var minWidth = 60;
  var minHeight = 40;

   
  var FULLSCREEN_MARGINS = -10;
  var MARGINS = 4;

  var clicked = null;
  var onRightEdge, onBottomEdge, onLeftEdge, onTopEdge;

  var rightScreenEdge, bottomScreenEdge;

  var preSnapped;

  var b, x, y;

  var redraw = false;

  var pane = document.getElementById('win00');
  var ghostpane = document.getElementById('ghostpane');

  function setBounds(element, x, y, w, h) {
    element.style.left = x + 'px';
    element.style.top = y + 'px';
    element.style.width = w + 'px';
    element.style.height = h + 'px';
  }

  function hintHide() {
    setBounds(ghostpane, b.left, b.top, b.width, b.height);
    ghostpane.style.opacity = 0;
  }


  pane.addEventListener('mousedown', onMouseDown);
  document.addEventListener('mousemove', onMove);
  document.addEventListener('mouseup', onUp);

  pane.addEventListener('touchstart', onTouchDown);
  document.addEventListener('touchmove', onTouchMove);
  document.addEventListener('touchend', onTouchEnd);


  function onTouchDown(e) {
    onDown(e.touches[0]);
    e.preventDefault();
  }

  function onTouchMove(e) {
    onMove(e.touches[0]);     
  }

  function onTouchEnd(e) {
    if (e.touches.length ==0) onUp(e.changedTouches[0]);
  }

  function onMouseDown(e) {
    onDown(e);
    e.preventDefault();
  }

  function onDown(e) {
    calc(e);

    var isResizing = onRightEdge || onBottomEdge || onTopEdge || onLeftEdge;

    clicked = {
      x: x,
      y: y,
      cx: e.clientX,
      cy: e.clientY,
      w: b.width,
      h: b.height,
      isResizing: isResizing,
      isMoving: !isResizing && canMove(),
      onTopEdge: onTopEdge,
      onLeftEdge: onLeftEdge,
      onRightEdge: onRightEdge,
      onBottomEdge: onBottomEdge
    };
  }

  function canMove() {
    return x > 0 && x < b.width && y > 0 && y < b.height
    && y < 30;
  }

  function calc(e) {
    b = pane.getBoundingClientRect();
    x = e.clientX - b.left;
    y = e.clientY - b.top;

    onTopEdge = y < MARGINS;
    onLeftEdge = x < MARGINS;
    onRightEdge = x >= b.width - MARGINS;
    onBottomEdge = y >= b.height - MARGINS;

    rightScreenEdge = window.innerWidth - MARGINS;
    bottomScreenEdge = window.innerHeight - MARGINS;
  }

  var e;

  function onMove(ee) {
    calc(ee);

    e = ee;

    redraw = true;

  }

  function animate() {

    requestAnimationFrame(animate);

    if (!redraw) return;

    redraw = false;

    if (clicked && clicked.isResizing) {

      if (clicked.onRightEdge) pane.style.width = Math.max(x, minWidth) + 'px';
      if (clicked.onBottomEdge) pane.style.height = Math.max(y, minHeight) + 'px';

      if (clicked.onLeftEdge) {
        var currentWidth = Math.max(clicked.cx - e.clientX  + clicked.w, minWidth);
        if (currentWidth > minWidth) {
          pane.style.width = currentWidth + 'px';
          pane.style.left = e.clientX + 'px'; 
        }
      }

      if (clicked.onTopEdge) {
        var currentHeight = Math.max(clicked.cy - e.clientY  + clicked.h, minHeight);
        if (currentHeight > minHeight) {
          pane.style.height = currentHeight + 'px';
          pane.style.top = e.clientY + 'px';  
        }
      }

      hintHide();

      return;
    }

    if (clicked && clicked.isMoving) {

      if (b.top < FULLSCREEN_MARGINS || b.left < FULLSCREEN_MARGINS || b.right > window.innerWidth - FULLSCREEN_MARGINS || b.bottom > window.innerHeight - FULLSCREEN_MARGINS) {
      
        setBounds(ghostpane, 0, 0, window.innerWidth, window.innerHeight);
        ghostpane.style.opacity = 0.2;
      } else if (b.top < MARGINS) {
      
        setBounds(ghostpane, 0, 0, window.innerWidth, window.innerHeight / 2);
        ghostpane.style.opacity = 0.2;
      } else if (b.left < MARGINS) {
  
        setBounds(ghostpane, 0, 0, window.innerWidth / 2, window.innerHeight);
        ghostpane.style.opacity = 0.2;
      } else if (b.right > rightScreenEdge) {
    
        setBounds(ghostpane, window.innerWidth / 2, 0, window.innerWidth / 2, window.innerHeight);
        ghostpane.style.opacity = 0.2;
      } else if (b.bottom > bottomScreenEdge) {

        setBounds(ghostpane, 0, window.innerHeight / 2, window.innerWidth, window.innerWidth / 2);
        ghostpane.style.opacity = 0.2;
      } else {
        hintHide();
      }

      if (preSnapped) {
        setBounds(pane,
          e.clientX - preSnapped.width / 2,
          e.clientY - Math.min(clicked.y, preSnapped.height),
          preSnapped.width,
          preSnapped.height
          );
        return;
      }

      pane.style.top = (e.clientY - clicked.y) + 'px';
      pane.style.left = (e.clientX - clicked.x) + 'px';

      return;
    }

    if (onRightEdge && onBottomEdge || onLeftEdge && onTopEdge) {
      pane.style.cursor = 'nwse-resize';
    } else if (onRightEdge && onTopEdge || onBottomEdge && onLeftEdge) {
      pane.style.cursor = 'nesw-resize';
    } else if (onRightEdge || onLeftEdge) {
      pane.style.cursor = 'ew-resize';
    } else if (onBottomEdge || onTopEdge) {
      pane.style.cursor = 'ns-resize';
    } else if (canMove()) {
      pane.style.cursor = 'move';
    } else {
      pane.style.cursor = 'default';
    }
  }

  animate();

  function onUp(e) {
    calc(e);

    if (clicked && clicked.isMoving) {
      var snapped = {
        width: b.width,
        height: b.height
      };

      if (b.top < FULLSCREEN_MARGINS || b.left < FULLSCREEN_MARGINS || b.right > window.innerWidth - FULLSCREEN_MARGINS || b.bottom > window.innerHeight - FULLSCREEN_MARGINS) {
        setBounds(pane, 0, 0, window.innerWidth, window.innerHeight);
        preSnapped = snapped;
      } else if (b.top < MARGINS) {
        setBounds(pane, 0, 0, window.innerWidth, window.innerHeight / 2);
        preSnapped = snapped;
      } else if (b.left < MARGINS) {
        setBounds(pane, 0, 0, window.innerWidth / 2, window.innerHeight);
        preSnapped = snapped;
      } else if (b.right > rightScreenEdge) {
        setBounds(pane, window.innerWidth / 2, 0, window.innerWidth / 2, window.innerHeight);
        preSnapped = snapped;
      } else if (b.bottom > bottomScreenEdge) {
        setBounds(pane, 0, window.innerHeight / 2, window.innerWidth, window.innerWidth / 2);
        preSnapped = snapped;
      } else {
        preSnapped = null;
      }

      hintHide();

    }

    clicked = null;

  }

</script>


<script>
    let saveFile = () => {
        
        let data = String('<!DOCTYPE html><html><head><link rel="import" href="https://halonex.github.io/Projects/present/m-OSwebTemp.html"><meta charset="utf-8"><title></title><script src= "https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js"><' + '/script><style type="text/css">textarea::-webkit-scrollbar{display:none}div::-webkit-scrollbar{display:none}</ style><style>body{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}#mydiv{position:absolute;text-align:center;background:black;border-radius:8px;top:50px;left:25px}#mydivheader{overflow:overflow;cursor:context-menu;color:#fff}#mydiv1{position:absolute;text-align:center;background:lightgrey;border-radius:8px;width:200px;top:200px;left:940px}#mydiv1header{overflow:overflow;cursor:context-menu;color:#fff}#mydiv2{position:absolute;text-align:center;background:lightgrey;border-radius:8px;width:500px;top:50px;left:940px}#mydiv1header{overflow:overflow;cursor:context-menu;color:#fff}</style><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="https://halonex.github.io/Projects/assessment/resizable-style.css"><title>Code Editor</title><script src="https://halonex.github.io/Projects/assessment/resizable.js"><' + '/script><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"><' + '/script><link rel="stylesheet" href="https://halonex.github.io/Projects/assessment/style.css"><link rel="stylesheet" href="https://halonex.github.io/Projects/present/lang/./hl.css"><link rel="stylesheet" href="https://halonex.github.io/Projects/present/lang/./style1.css"></head><body><div class = "newdiv" > <div id="mydiv" style = "padding : 25px; background : none;"> <div id="mydivheader" > <div class="titlebar" style="position: sticky;top: 0px;left: 0px;"> <div class="buttons"> <div class="close"> <a class="closebutton" href="#"><span><strong>x</strong></span></a> </div> <div class="minimize"> <a class="minimizebutton" href="#"><span><strong>–</strong></span></a> </div> <div class="zoom"> <a class="zoombutton" href="#"><span><strong>+</strong></span></a> </div> </div> Main Screen </div> </div> <div class="window" style="overflow-y: scroll; box-shadow: 0px 0px 0px; margin-top: 0px; translate-y = 10px; border-top-left-radius: 0px;border-top-right-radius: 0px; box-shadow: 0px 0px 20px #acacac;" id = "win00"> <div class="content" id = "mc" style = "background: white; height:100%;" >' + document.getElementById("t").value + '</div> </div> </div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"><' + '/script><script src="script.js"><' + '/script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js"><' + '/script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/utils/Draggable.min.js"><' + '/script><script type="module" src="https://halonex.github.io/Projects/assessment/script.js"><' + '/script><script src="./hl.js"><' + '/script><script>;load1();window.alert("Loaded");function d(){document.getElementById("er").innerHTML=document.getElementById("t").value;loadl()};<' + '/script><script>;var elem=document.documentElement;function openFullscreen(){if(elem.requestFullscreen){elem.requestFullscreen()}else if(elem.webkitRequestFullscreen){elem.webkitRequestFullscreen()}else if(elem.msRequestFullscreen){elem.msRequestFullscreen()}};function closeFullscreen(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}};function cl(){document.getElementById("mc").innerHTML=";document.getElementById("t").innerHTML="};<' + '/script><script>;dragElement(document.getElementById("mydiv"));dragElement(document.getElementById("mydiv1"));dragElement(document.getElementById("mydiv2"));function dragElement(e){var o=0,d=0,n=0,t=0;if(document.getElementById(e.id+"header")){document.getElementById(e.id+"header").onmousedown=m}else{e.onmousedown=m};function m(e){e=e||window.event;e.preventDefault();n=e.clientX;t=e.clientY;document.onmouseup=u;document.onmousemove=l};function l(m){m=m||window.event;m.preventDefault();o=n-m.clientX;d=t-m.clientY;n=m.clientX;t=m.clientY;e.style.top=(e.offsetTop-d)+"px";e.style.left=(e.offsetLeft-o)+"px"};function u(){document.onmouseup=null;document.onmousemove=null}};<' + '/script><script>;var canvas=document.getElementById("canvas11");function prep(){var e=document.getElementById("canvas11")};function takeshot(){let div=document.getElementById("mydiv");html2canvas(div).then(function(e){var t=document.getElementById("canvas11");t.parentNode.removeChild(t);e.setAttribute("id","canvas11");document.getElementById("o").innerHTML=";document.getElementById("o").appendChild(e);prep();dd()})};<' + '/script><script>;function dd(){var d=document.getElementById("canvas11"),n=d.toDataURL("image/jpg"),e=document.createElement("a");e.download="image.png";e.href=n;document.body.appendChild(e);e.click();document.body.removeChild(e)};<' + '/script><script>;click_event=new CustomEvent("click");btn_element=document.querySelector("#do");btn_element.dispatchEvent(click_event);var tim=setInterval(clickButton,1000);function emb(){document.getElementById("mc").innerHTML=document.getElementById("t").value};function clickButton(){if(document.getElementById("flexSwitchCheckChecked").checked=="1"&&!(document.getElementById("t").value.includes("<defaultwindow>"))){click_event=new CustomEvent("click");btn_element=document.querySelector("#do");btn_element.dispatchEvent(click_event)}};<' + '/script><script>"use strict";var minWidth = 60; var minHeight = 40; var FULLSCREEN_MARGINS = -10; var MARGINS = 4; var clicked = null; var onRightEdge, onBottomEdge, onLeftEdge, onTopEdge; var rightScreenEdge, bottomScreenEdge; var preSnapped; var b, x, y; var redraw = false; var pane = document.getElementById("win00"); var ghostpane = document.getElementById("ghostpane"); function setBounds(element, x, y, w, h) { element.style.left = x + "px"; element.style.top = y + "px"; element.style.width = w + "px"; element.style.height = h + "px"; } function hintHide() { setBounds(ghostpane, b.left, b.top, b.width, b.height); ghostpane.style.opacity = 0; } pane.addEventListener("mousedown", onMouseDown); document.addEventListener("mousemove", onMove); document.addEventListener("mouseup", onUp); pane.addEventListener("touchstart", onTouchDown); document.addEventListener("touchmove", onTouchMove); document.addEventListener("touchend", onTouchEnd); function onTouchDown(e) { onDown(e.touches[0]); e.preventDefault(); } function onTouchMove(e) { onMove(e.touches[0]); } function onTouchEnd(e) { if (e.touches.length ==0) onUp(e.changedTouches[0]); } function onMouseDown(e) { onDown(e); e.preventDefault(); } function onDown(e) { calc(e); var isResizing = onRightEdge || onBottomEdge || onTopEdge || onLeftEdge; clicked = { x: x, y: y, cx: e.clientX, cy: e.clientY, w: b.width, h: b.height, isResizing: isResizing, isMoving: !isResizing && canMove(), onTopEdge: onTopEdge, onLeftEdge: onLeftEdge, onRightEdge: onRightEdge, onBottomEdge: onBottomEdge }; } function canMove() { return x > 0 && x < b.width && y > 0 && y < b.height && y < 30; } function calc(e) { b = pane.getBoundingClientRect(); x = e.clientX - b.left; y = e.clientY - b.top; onTopEdge = y < MARGINS; onLeftEdge = x < MARGINS; onRightEdge = x >= b.width - MARGINS; onBottomEdge = y >= b.height - MARGINS; rightScreenEdge = window.innerWidth - MARGINS; bottomScreenEdge = window.innerHeight - MARGINS; } var e; function onMove(ee) { calc(ee); e = ee; redraw = true; } function animate() { requestAnimationFrame(animate); if (!redraw) return; redraw = false; if (clicked && clicked.isResizing) { if (clicked.onRightEdge) pane.style.width = Math.max(x, minWidth) + "px"; if (clicked.onBottomEdge) pane.style.height = Math.max(y, minHeight) + "px"; if (clicked.onLeftEdge) { var currentWidth = Math.max(clicked.cx - e.clientX + clicked.w, minWidth); if (currentWidth > minWidth) { pane.style.width = currentWidth + "px"; pane.style.left = e.clientX + "px"; } } if (clicked.onTopEdge) { var currentHeight = Math.max(clicked.cy - e.clientY + clicked.h, minHeight); if (currentHeight > minHeight) { pane.style.height = currentHeight + "px"; pane.style.top = e.clientY + "px"; } } hintHide(); return; } if (clicked && clicked.isMoving) { if (b.top < FULLSCREEN_MARGINS || b.left < FULLSCREEN_MARGINS || b.right > window.innerWidth - FULLSCREEN_MARGINS || b.bottom > window.innerHeight - FULLSCREEN_MARGINS) { setBounds(ghostpane, 0, 0, window.innerWidth, window.innerHeight); ghostpane.style.opacity = 0.2; } else if (b.top < MARGINS) { setBounds(ghostpane, 0, 0, window.innerWidth, window.innerHeight / 2); ghostpane.style.opacity = 0.2; } else if (b.left < MARGINS) { setBounds(ghostpane, 0, 0, window.innerWidth / 2, window.innerHeight); ghostpane.style.opacity = 0.2; } else if (b.right > rightScreenEdge) { setBounds(ghostpane, window.innerWidth / 2, 0, window.innerWidth / 2, window.innerHeight); ghostpane.style.opacity = 0.2; } else if (b.bottom > bottomScreenEdge) { setBounds(ghostpane, 0, window.innerHeight / 2, window.innerWidth, window.innerWidth / 2); ghostpane.style.opacity = 0.2; } else { hintHide(); } if (preSnapped) { setBounds(pane, e.clientX - preSnapped.width / 2, e.clientY - Math.min(clicked.y, preSnapped.height), preSnapped.width, preSnapped.height ); return; } pane.style.top = (e.clientY - clicked.y) + "px"; pane.style.left = (e.clientX - clicked.x) + "px"; return; } if (onRightEdge && onBottomEdge || onLeftEdge && onTopEdge) { pane.style.cursor = "nwse-resize"; } else if (onRightEdge && onTopEdge || onBottomEdge && onLeftEdge) { pane.style.cursor = "nesw-resize"; } else if (onRightEdge || onLeftEdge) { pane.style.cursor = "ew-resize"; } else if (onBottomEdge || onTopEdge) { pane.style.cursor = "ns-resize"; } else if (canMove()) { pane.style.cursor = "move"; } else { pane.style.cursor = "default"; } } animate(); function onUp(e) { calc(e); if (clicked && clicked.isMoving) { var snapped = { width: b.width, height: b.height }; if (b.top < FULLSCREEN_MARGINS || b.left < FULLSCREEN_MARGINS || b.right > window.innerWidth - FULLSCREEN_MARGINS || b.bottom > window.innerHeight - FULLSCREEN_MARGINS) { setBounds(pane, 0, 0, window.innerWidth, window.innerHeight); preSnapped = snapped; } else if (b.top < MARGINS) { setBounds(pane, 0, 0, window.innerWidth, window.innerHeight / 2); preSnapped = snapped; } else if (b.left < MARGINS) { setBounds(pane, 0, 0, window.innerWidth / 2, window.innerHeight); preSnapped = snapped; } else if (b.right > rightScreenEdge) { setBounds(pane, window.innerWidth / 2, 0, window.innerWidth / 2, window.innerHeight); preSnapped = snapped; } else if (b.bottom > bottomScreenEdge) { setBounds(pane, 0, window.innerHeight / 2, window.innerWidth, window.innerWidth / 2); preSnapped = snapped; } else { preSnapped = null; } hintHide(); } clicked = null; }<' + '/script></body></html>');
        
        const textToBLOB = new Blob([data], { type: 'text/plain' });
        const sFileName = 'formData.html';   

        let newLink = document.createElement("a");
        newLink.download = sFileName;

        if (window.webkitURL != null) {
            newLink.href = window.webkitURL.createObjectURL(textToBLOB);
        }
        else {
            newLink.href = window.URL.createObjectURL(textToBLOB);
            newLink.style.display = "none";
            document.body.appendChild(newLink);
        }

        newLink.click(); 
    }
</script>


</body>
</html>